document.addEventListener("DOMContentLoaded",function(){document.getElementById("toc-header").onclick=function(){const content=document.getElementById("toc-content");content.classList.toggle("open");this.style.cursor=content.classList.contains("open")?"default":"pointer"};const tocList=document.getElementById("toc-list");const headings=document.querySelectorAll(".post-body h2,.post-body h3");headings.forEach(heading=>{if(!heading.id){heading.id=heading.textContent.trim().replace(/\s+/g,"-").toLowerCase()}const li=document.createElement("li");li.innerHTML=`<a href="#${heading.id}" onclick="event.preventDefault();document.getElementById('${heading.id}').scrollIntoView({behavior:'smooth'});">${heading.tagName==="H2"?heading.textContent:'â€” '+heading.textContent}</a>`;tocList.appendChild(li)})});
