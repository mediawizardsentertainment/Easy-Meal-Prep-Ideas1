document.addEventListener("DOMContentLoaded",function(){document.getElementById("toc-header").onclick=function(){const content=document.getElementById("toc-content");const isOpen=content.classList.contains("open");content.classList.toggle("open");if(!isOpen){const scrollHeight=content.scrollHeight;content.style.maxHeight=scrollHeight+"px";this.style.cursor="default";}else{content.style.maxHeight=0;this.style.cursor="pointer";}};const tocList=document.getElementById("toc-list");const headings=document.querySelectorAll(".post-body h2,.post-body h3");headings.forEach(heading=>{if(!heading.id){heading.id=heading.textContent.trim().replace(/\s+/g,"-").toLowerCase();}const li=document.createElement("li");li.innerHTML=`<a href="#${heading.id}" onclick="event.preventDefault();document.getElementById('${heading.id}').scrollIntoView({behavior:'smooth'});">${heading.tagName==="H2"?heading.textContent:'â€” '+heading.textContent}</a>`;tocList.appendChild(li);});});
